
CREATE TABLE COMBUSTIVEL(
   CODIGO INTEGER NOT NULL,
   DESCRICAO VARCHAR(50) NOT NULL,
   VALOR DECIMAL(18,3),
  CONSTRAINT PK_COMB PRIMARY KEY(CODIGO)
);


CREATE TABLE TANQUE(
   CODIGO INTEGER,
   DESCRICAO VARCHAR(50),
   COMBUSTIVEL INTEGER,
   CONSTRAINT PK_TANQ PRIMARY KEY(CODIGO)
);


ALTER TABLE TANQUE
ADD CONSTRAINT FK_COMBTANQ FOREIGN KEY (COMBUSTIVEL) REFERENCES COMBUSTIVEL(CODIGO);

CREATE TABLE BOMBA (
       CODIGO INTEGER NOT NULL,
       DESCRICAO VARCHAR(50) CHARACTER SET WIN1254,
       TANQUE INTEGER,
      CONSTRAINT PK_BOMBA PRIMARY KEY (CODIGO)
);

ALTER TABLE BOMBA
ADD CONSTRAINT FK_TANQBOMBA FOREIGN KEY (TANQUE) REFERENCES TANQUE(CODIGO);

CREATE TABLE BOMBATANQUE(
  BOMBA INTEGER NOT NULL,
  TANQUE INTEGER NOT NULL,
  CONSTRAINT PK_BOMBATANQ PRIMARY KEY (BOMBA, TANQUE)
);

ALTER TABLE BOMBATANQUE
ADD CONSTRAINT FK_BB FOREIGN KEY(BOMBA) REFERENCES BOMBA(CODIGO);

ALTER TABLE BOMBATANQUE
ADD CONSTRAINT FK_BT FOREIGN KEY(TANQUE) REFERENCES TANQUE(CODIGO);

CREATE TABLE VENDA(
  CODIGO INTEGER,
  BOMBA INTEGER,
  DATA DATE,
  QTDE DECIMAL(18,3),
  VALOR DECIMAL(18,3),
  VALOR_IMPOSTO DECIMAL(18,3),
  CONSTRAINT PK_VENDA PRIMARY KEY(CODIGO)
);

ALTER TABLE VENDA
ADD CONSTRAINT FK_BOMBAVENDA FOREIGN KEY (BOMBA) REFERENCES BOMBA(CODIGO);

